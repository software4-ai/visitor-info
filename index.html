<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Device Scanner</title>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js"></script>
</head>
<body style="background:#0f172a;color:white;font-family:sans-serif;padding:20px;">

<h2>Device Scanner (Learning Demo)</h2>
<p>This demo collects device info for educational purposes.</p>
<button onclick="collectData()">Start Scan & Share</button>

<script type="module">

import { initializeApp } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-app.js";
import { getDatabase, ref, push } from "https://www.gstatic.com/firebasejs/10.12.0/firebase-database.js";

const firebaseConfig = {
  apiKey: "PASTE_YOURS",
  authDomain: "PASTE_YOURS",
  databaseURL: "PASTE_YOURS",
  projectId: "PASTE_YOURS",
  storageBucket: "PASTE_YOURS",
  messagingSenderId: "PASTE_YOURS",
  appId: "PASTE_YOURS"
};

const app = initializeApp(firebaseConfig);
const database = getDatabase(app);

window.collectData = async function() {

let data = {
  browser: navigator.userAgent,
  platform: navigator.platform,
  screen: window.screen.width + "x" + window.screen.height,
  language: navigator.language,
  cpu: navigator.hardwareConcurrency,
  ram: navigator.deviceMemory || "N/A",
  timestamp: new Date().toLocaleString()
};

try {
const response = await fetch("https://api.ipify.org?format=json");
const ipData = await response.json();
data.ip = ipData.ip;
} catch {
data.ip = "Unavailable";
}

if (navigator.geolocation) {
navigator.geolocation.getCurrentPosition(async (pos) => {

data.latitude = pos.coords.latitude;
data.longitude = pos.coords.longitude;
data.accuracy = pos.coords.accuracy;

await push(ref(database, "scans"), data);

alert("Data Shared Successfully!");

});
} else {
await push(ref(database, "scans"), data);
alert("Data Shared Successfully!");
}

};

</script>
</body>
</html>
